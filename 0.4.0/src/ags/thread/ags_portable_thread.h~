  pth_t thread;
  pth_attr_t thread_attr;

  pth_mutex_t mutex;
  pth_cond_t cond;

  pth_mutex_t start_mutex;
  pth_cond_t start_cond;

  pth_barrier_t barrier[2];
  gboolean first_barrier;
  int wait_count[2];

  pth_t timelock_thread;
  pth_mutex_t timelock_mutex;
  pth_cond_t timelock_cond;
